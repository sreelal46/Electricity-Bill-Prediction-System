<!-- ADMIN DASHBOARD -->
<link rel="stylesheet" href="/css/admin-dashboard.css">

<div class="container">
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <div class="header-left">
      <h1>System Overview</h1>
      <p>Real-time monitoring of user activity and system health.</p>
    </div>
    <div class="header-right">
      <div class="system-status">
        <span class="status-dot"></span>
        <span>System Operational</span>
      </div>
      <button class="close-btn" onclick="window.location.href='/'">
        <i data-lucide="x"></i>
      </button>
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon blue">
          <i data-lucide="users"></i>
        </div>
        <div class="stat-change positive">
          <i data-lucide="arrow-up"></i>
          <span>+12%</span>
        </div>
      </div>
      <div class="stat-value">{{totalUsers}}</div>
      <div class="stat-label">Total Users</div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon green">
          <i data-lucide="activity"></i>
        </div>
        <div class="stat-change positive">
          <i data-lucide="arrow-up"></i>
          <span>+5%</span>
        </div>
      </div>
      <div class="stat-value">843</div>
      <div class="stat-label">Active Now</div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon orange">
          <i data-lucide="zap"></i>
        </div>
        <div class="stat-change negative">
          <i data-lucide="arrow-down"></i>
          <span>-2.4%</span>
        </div>
      </div>
      <div class="stat-value">45.2 MWh</div>
      <div class="stat-label">Total Consumption</div>
    </div>

    <div class="stat-card">
      <div class="stat-header">
        <div class="stat-icon red">
          <i data-lucide="bell"></i>
        </div>
        <div class="stat-change negative">
          <i data-lucide="arrow-up"></i>
          <span>+4</span>
        </div>
      </div>
      <div class="stat-value">{{totalAlerts}}</div>
      <div class="stat-label">Active Alerts</div>
    </div>
  </div>

  <!-- Content Grid -->
  <div class="content-grid">
    <!-- Recent User Registrations -->
    <div class="content-card">
      <h2 class="card-title">
        <i data-lucide="user-plus"></i>
        Recent User Registrations
      </h2>

      <table class="registrations-table">
        <thead>
          <tr>
            <th>User</th>
            <th>Status</th>
            <th>Date</th>
            <th>Plan</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <div class="user-cell">
                <span class="user-name">Sarah Wilson</span>
                <span class="user-email">sarah@example.com</span>
              </div>
            </td>
            <td>
              <span class="status-badge active">Active</span>
            </td>
            <td class="date-cell">Just now</td>
            <td class="plan-cell">Enterprise</td>
          </tr>
          <tr>
            <td>
              <div class="user-cell">
                <span class="user-name">Mike Johnson</span>
                <span class="user-email">mike@example.com</span>
              </div>
            </td>
            <td>
              <span class="status-badge pending">Pending</span>
            </td>
            <td class="date-cell">2 hrs ago</td>
            <td class="plan-cell">Basic</td>
          </tr>
          <tr>
            <td>
              <div class="user-cell">
                <span class="user-name">Tech Solutions Inc</span>
                <span class="user-email">admin@techsol.com</span>
              </div>
            </td>
            <td>
              <span class="status-badge active">Active</span>
            </td>
            <td class="date-cell">5 hrs ago</td>
            <td class="plan-cell">Pro</td>
          </tr>
          <tr>
            <td>
              <div class="user-cell">
                <span class="user-name">Green Energy Co</span>
                <span class="user-email">contact@green.co</span>
              </div>
            </td>
            <td>
              <span class="status-badge active">Active</span>
            </td>
            <td class="date-cell">1 day ago</td>
            <td class="plan-cell">Enterprise</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Recent Alerts -->
    <div class="content-card">
      <h2 class="card-title">
        <i data-lucide="bell"></i>
        Recent Alerts
      </h2>

      <div class="alerts-list">
        <div class="alert-item warning">
          <div class="alert-icon">
            <i data-lucide="alert-triangle"></i>
          </div>
          <div class="alert-content">
            <div class="alert-title">Peak demand threshold approaching (92%)</div>
            <div class="alert-time">10:42 AM</div>
          </div>
          <button class="alert-close">
            <i data-lucide="x"></i>
          </button>
        </div>

        <div class="alert-item danger">
          <div class="alert-icon">
            <i data-lucide="alert-circle"></i>
          </div>
          <div class="alert-content">
            <div class="alert-title">Main grid connection instability detected</div>
            <div class="alert-time">09:15 AM</div>
          </div>
          <button class="alert-close">
            <i data-lucide="x"></i>
          </button>
        </div>

        <div class="alert-item info">
          <div class="alert-icon">
            <i data-lucide="info"></i>
          </div>
          <div class="alert-content">
            <div class="alert-title">Weekly maintenance scheduled for tomorrow</div>
            <div class="alert-time">Yesterday</div>
          </div>
          <button class="alert-close">
            <i data-lucide="x"></i>
          </button>
        </div>

        <div class="alert-item warning">
          <div class="alert-icon">
            <i data-lucide="alert-triangle"></i>
          </div>
          <div class="alert-content">
            <div class="alert-title">Power factor below 0.85 in Sector 4</div>
            <div class="alert-time">Yesterday</div>
          </div>
          <button class="alert-close">
            <i data-lucide="x"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Initialize Lucide icons
  lucide.createIcons();

  // Alert close functionality with smooth fade
  document.querySelectorAll('.alert-close').forEach(btn => {
    btn.addEventListener('click', function () {
      const alertItem = this.closest('.alert-item');
      alertItem.style.opacity = '0';
      alertItem.style.transform = 'translateX(-20px)';
      setTimeout(() => {
        alertItem.remove();
      }, 300);
    });
  });
</script>